sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/ui/core/Fragment","sap/m/MessageToast","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,t,i,s,r,o)=>{"use strict";return e.extend("inventory.controller.home",{onInit(){console.log("We're HOMEEEEEE")},onCollapseExpandPress(){const e=this.byId("sideNavigation"),t=e.getExpanded();e.setExpanded(!t)},onSubmit:function(){var e=this.getView().byId("name").getValue();var i=this.getView().byId("unit_type").getValue();var s=this.getView().byId("unit_price").getValue();var r=this.getView().byId("warranty").getValue();var o=this.getView().byId("stock").getValue();var n=this.getView().getModel();var d=n.bindList("/Products").create({name:e,unit_type:i,unit_price:s,warranty:r,stock:o});console.log(d);d.created().then(()=>{t.success("Product added successfully");this.getView().byId("name").setValue(null);this.getView().byId("unit_type").setValue(null);this.getView().byId("unit_price").setValue(null);this.getView().byId("warranty").setValue(null);this.getView().byId("stock").setValue(null);n.refresh()}).catch(e=>{t.error("Error adding new product");console.error("Error adding Item : "+e)})},onAddProductPressed:function(){this.hideAllPanels();var e=this.byId("addProductPanel");e.setVisible(true)},onViewProductsPressed:function(){console.log("View Products pressed 1");this.hideAllPanels();var e=this.byId("viewProductsPanel");console.log("View Products pressed 2");e.setVisible(true)},onEditProductsPressed:function(){this.hideAllPanels();var e=this.byId("editProductPanel");e.setVisible(true)},hideAllPanels(){this.byId("addProductPanel").setVisible(false);this.byId("viewProductsPanel").setVisible(false);this.byId("editProductPanel").setVisible(false)},onActionPressed:function(e){var t=e.getSource();var s=t.getBindingContext();this._oSelectedContext=s;if(!this._oActionSheet){i.load({id:this.getView().getId(),name:"inventory.view.ActionSheet",controller:this}).then(function(e){this._oActionSheet=e;this.getView().addDependent(this._oActionSheet);this._oActionSheet.openBy(t)}.bind(this))}else{this._oActionSheet.openBy(t)}},onDeletePress:function(){var e=this._oSelectedContext;var i=e.getProperty("ID");t.confirm("Are you sure you want to delete"+i+"?",{actions:[t.Action.YES,t.Action.NO],onClose:function(s){if(s===t.Action.YES){e.delete("$direct").then(function(){t.success(i+"deleted successfully")}).catch(function(e){t.error("Error deleting"+i+": "+e)})}}})},onEditPress:function(){var e=this._oSelectedContext.getObject();s.show("Edit action for product: "+e.ID);this.onEditProductsPressed();var i=this.getOwnerComponent().getModel();let n=[new r("ID",o.EQ,e.ID)];let d=i.bindList("/Products");d.filter(n);d.requestContexts().then(e=>{if(e.length>0){e.forEach(e=>{let t=e.getObject();this.getView().byId("productID").setValue(t.ID);this.getView().byId("editName").setValue(t.name);this.getView().byId("editUnit_type").setValue(t.unit_type);this.getView().byId("editUnit_price").setValue(t.unit_price);this.getView().byId("editWarranty").setValue(t.warranty);this.getView().byId("editStock").setValue(t.stock)})}else{t.error("No book found with this ID.")}}).catch(e=>{t.error("Error retrieving product details: "+e)})},updateProduct:function(){var e=this.getView().byId("productID").getValue();var i=this.getView().byId("editName").getValue();var s=this.getView().byId("editUnit_type").getValue();var r=this.getView().byId("editUnit_price").getValue();var o=this.getView().byId("editWarranty").getValue();var n=this.getView().byId("editStock").getValue();var d=this.getView().getModel();var a="Products('"+e+"')";var l=this.getView();function c(){l.setBusy(false)}l.setBusy(true);var u=this._oSelectedContext;u.setProperty("name",i);u.setProperty("unit_type",s);u.setProperty("unit_price",r);u.setProperty("warranty",o);u.setProperty("stock",n);d.submitBatch("auto").then(()=>{c();t.success("Product updated successfully")}).catch(e=>{t.error("An error occurred while performing the update: "+e)})}})});
//# sourceMappingURL=home.controller.js.map